"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[752],{752:function(t,e,a){a.d(e,{N:function(){return X},t:function(){return q}});var r=a(57437),n=a(95724),s=a(11490),i=a(12925);async function c(t){let{campaignId:e}=t;try{return await s.h.patch("/campaigns/".concat(e,"/close")),(0,n.F2)(null)}catch(t){return(0,n.t$)(new i.g(t))}}async function o(t){let{coverImageId:e,categoryId:a,title:r,description:c,goalAmount:o,closureAt:u}=t;try{let{data:t}=await s.h.post("/campaigns",{coverImageId:e,categoryId:a,title:r,description:c,goalAmount:o,closureAt:u});return(0,n.F2)({slug:t.slug})}catch(t){return(0,n.t$)(new i.g(t))}}async function u(t){let{campaignId:e,coverImageId:a,categoryId:r,title:c,description:o,goalAmount:u,city:l,state:p,videoUrl:d,closureAt:g}=t;try{let{data:t}=await s.h.put("/campaigns/".concat(e,"/edit"),{coverImageId:a,categoryId:r,title:c,description:o,goalAmount:u,city:l,state:p,videoUrl:d,closureAt:g});return(0,n.F2)(null)}catch(t){return(0,n.t$)(new i.g(t))}}var l=a(61209),p=a(21313);async function d(t){let{page:e=1}=t;try{let{data:t}=await s.h.get("/campaigns/me?page=".concat(e)),a=t.campaigns.map(p.O.toDomain);return(0,n.F2)({campaigns:a})}catch(t){return(0,n.t$)(new i.g(t))}}var g=a(38152),h=a(16305);class m extends h.K{get id(){return this.props.id}get name(){return this.props.name}get imageUrl(){return this.props.imageUrl}get createdAt(){return this.props.createdAt}get updatedAt(){return this.props.updatedAt}toJSON(){return{id:this.id.toString(),name:this.name,imageUrl:this.imageUrl,createdAt:this.createdAt,updatedAt:this.updatedAt}}static create(t){return new m(t)}}class A{static toDomain(t){return m.create({id:new g.E(t.id),name:t.name,imageUrl:t.imageUrl,createdAt:t.createdAt,updatedAt:t.updatedAt})}}async function w(t){let{page:e=1}=t;try{let{data:t}=await s.h.get("/categories?page=".concat(e)),a=t.categories.map(A.toDomain);return(0,n.F2)({categories:a})}catch(t){return(0,n.t$)(new i.g(t))}}var y=a(58844);class f{static toDomain(t){return y.g.create({campaignId:new g.E(t.id),coverImageId:t.coverImageId?new g.E(t.coverImageId):null,title:t.title,description:t.description,slug:t.slug,status:t.status,goalAmount:Number(t.goalAmount),amountCollected:Number(t.amountCollected),isVerified:t.isVerified,ratePlatform:t.ratePlatform,resume:t.resume,author:{id:new g.E(t.author.id),name:t.author.name,email:t.author.email,phone:t.author.phone,avatarUrl:t.author.avatarUrl,createdAt:t.author.createdAt},authorCampaignsCount:t.authorCampaignsCount,category:{id:new g.E(t.category.id),name:t.category.name},state:t.state,city:t.city,videoUrl:t.videoUrl,closureAt:t.closureAt,createdAt:t.createdAt,updatedAt:t.updatedAt})}}async function I(t){let{id:e}=t;try{let{data:t}=await s.h.get("/campaigns/id/".concat(e)),a=f.toDomain(t.campaign);return(0,n.F2)({campaign:a})}catch(t){return(0,n.t$)(new i.g(t))}}async function v(t){let{slug:e}=t;try{let{data:t}=await s.h.get("/campaigns/slug/".concat(e)),a=f.toDomain(t.campaign);return(0,n.F2)({campaign:a})}catch(t){return(0,n.t$)(new i.g(t))}}var C=a(20610),S=a(2265);async function E(){try{let{data:t}=await s.h.get("/campaigns/ufs"),{ufs:e}=t;return(0,n.F2)({ufs:e})}catch(t){return(0,n.t$)(new i.g(t))}}async function D(t){let{campaignId:e}=t;try{return await s.h.put(" /campaigns/".concat(e,"/publish")),(0,n.F2)(null)}catch(t){return(0,n.t$)(new i.g(t))}}async function R(t){let{search:e,categoryId:a,slugs:r,status:c,state:o,page:u,itemsPerPage:l,isVerified:p,timeRange:d}=t,g=r?r.join(","):null;try{let{data:t}=await s.h.get("/campaigns/amounts/recently-raised?".concat(e?"search=".concat(e):"").concat(a?"&categoryId=".concat(a):"").concat(g?"&slugs=".concat(g):"").concat(c?"&status=".concat(c):"").concat(o?"&state=".concat(o):"").concat(u?"&page=".concat(u):"").concat(l?"&itemsPerPage=".concat(l):"").concat(p?"&isVerified=".concat(p):"").concat(d?"&timeRange=".concat(d):""));return(0,n.F2)({campaigns:t.campaigns})}catch(t){return(0,n.t$)(new i.g(t))}}class L extends h.K{get id(){return this.props.id}get name(){return this.props.name}get email(){return this.props.email}get phone(){return this.props.phone}get document(){return this.props.document}get documentImageFront(){return this.props.documentImageFront}get documentImageVerse(){return this.props.documentImageVerse}get biography(){return this.props.biography}get avatarUrl(){return this.props.avatarUrl}get documentSentAt(){return this.props.documentSentAt}get createdAt(){return this.props.createdAt}get updatedAt(){return this.props.updatedAt}hasDocument(){return!!this.props.documentImageFront&&!!this.props.documentImageVerse&&!!this.props.document}static create(t){return new L(t)}}class F{static toDomain(t){return L.create({id:new g.E(t.id),name:t.name,email:t.email,phone:t.phone,document:t.document,documentImageFront:t.documentImageFront,documentImageVerse:t.documentImageVerse,biography:t.biography,avatarUrl:t.avatarUrl,documentSentAt:t.documentSentAt,createdAt:t.createdAt,updatedAt:t.updatedAt})}}async function b(){try{let{data:t}=await s.h.get("/authors"),e=F.toDomain(t.author);return(0,n.F2)({author:e})}catch(t){return(0,n.t$)(new i.g(t))}}async function k(t){let{authorEmail:e,documentImageFront:a,documentImageVerse:r}=t;try{return await s.h.patch("/authors/documents",{authorEmail:e,documentImageFront:a,documentImageVerse:r}),(0,n.F2)(null)}catch(t){return(0,n.t$)(new i.g(t))}}var U=a(76206);class T extends U.J{get id(){return this.props.id}get recipientId(){return this.props.recipientId}get token(){return this.props.token}get authorEmail(){return this.props.authorEmail}get name(){return this.props.name}get email(){return this.props.email}get document(){return this.props.document}get createdAt(){return this.props.createdAt}get updatedAt(){return this.props.updatedAt}static create(t){return new T(t)}}class P{static toDomain(t){return T.create({id:new g.E(t.id),recipientId:new g.E(t.recipientId),token:new g.E(t.token),authorEmail:t.authorEmail,name:t.name,email:t.email,document:t.document,createdAt:new Date(t.createdAt),updatedAt:t.updatedAt?new Date(t.updatedAt):null})}}async function $(){try{let{data:t}=await s.h.get("/recipients"),e=t.recipients.map(P.toDomain);return(0,n.F2)({recipients:e})}catch(t){return(0,n.t$)(new i.g(t))}}async function V(t){let{name:e,email:a,document:r,phone:c}=t;try{return await s.h.post("/recipients",{name:e,email:a,document:r,phone:c}),(0,n.F2)(null)}catch(t){return(0,n.t$)(new i.g(t))}}var O=a(18425);class N extends h.K{get campaignsActive(){return this.props.campaignsActive}get campaignsClosed(){return this.props.campaignsClosed}get campaignsTotal(){return this.props.campaignsTotal}static create(t){return new N(t)}}class x{static toDomain(t){return N.create({campaignsActive:t.campaignsActive,campaignsClosed:t.campaignsClosed,campaignsTotal:t.campaignsTotal})}}async function _(t){let{startDate:e,endDate:a}=t;try{let t=new URLSearchParams;e&&t.append("startDate",e),a&&t.append("endDate",a);let{data:r}=await s.h.get("/campaigns/count".concat(t.toString()?"?".concat(t.toString()):"")),i=x.toDomain(r);return(0,n.F2)({countCampaigns:i})}catch(t){return(0,n.t$)(new O.T)}}class K extends h.K{get totalRatePlatform(){return this.props.totalRatePlatform}get totalFeeGateway(){return this.props.totalFeeGateway}get totalCollected(){return this.props.totalCollected}static create(t){return new K(t)}}class H{static toDomain(t){return K.create({totalRatePlatform:t.report.totalRatePlatform,totalFeeGateway:t.report.totalFeeGateway,totalCollected:t.report.totalCollected})}}async function B(t){let{startDate:e,endDate:a}=t;try{let t=new URLSearchParams;e&&t.append("startDate",e),a&&t.append("endDate",a);let{data:r}=await s.h.get("/campaigns/fees/report".concat(t.toString()?"?".concat(t.toString()):"")),i=H.toDomain(r);return(0,n.F2)({feesReport:i})}catch(t){return(0,n.t$)(new O.T)}}async function G(t){let{campaignId:e,content:a}=t;try{return await s.h.post("/news",{campaignId:e,content:a}),(0,n.F2)(null)}catch(t){return(0,n.t$)(new i.g(t))}}class J extends h.K{get id(){return this.props.id}get campaignId(){return this.props.campaignId}get content(){return this.props.content}get createdAt(){return this.props.createdAt}get updatedAt(){return this.props.updatedAt}static create(t){return new J(t)}}class Y{static toDomain(t){return J.create({id:new g.E(t.id),campaignId:new g.E(t.campaignId),content:t.content,createdAt:new Date(t.createdAt),updatedAt:t.updatedAt?new Date(t.updatedAt):null})}}async function M(t){let{campaignId:e}=t;try{let{data:t}=await s.h.get("/news/".concat(e));return(0,n.F2)({news:t.news.map(Y.toDomain)})}catch(t){return(0,n.t$)(new i.g(t))}}async function j(t){let{newsId:e}=t;try{return await s.h.delete("/news/".concat(e)),(0,n.F2)(null)}catch(t){return(0,n.t$)(new i.g(t))}}let W=(0,S.createContext)({}),X=t=>{let{children:e}=t,[a,n]=(0,S.useState)([]),[s,i]=(0,S.useState)([]),[p,g]=(0,S.useState)(null),[h,m]=(0,S.useState)(""),[A,y]=(0,S.useState)([]),[f,L]=(0,S.useState)(null),[F,U]=(0,S.useState)(!1),[T,P]=(0,S.useState)(null),O=(0,C.p)(),N=(0,S.useCallback)(async t=>{let e=await o(t);return e.isRight()?(m(e.value.slug),{success:e.isRight(),slug:e.value.slug}):{success:e.isRight(),slug:""}},[]),x=(0,S.useCallback)(async t=>{let e=await V(t);return e.isRight(),{success:e.isRight()}},[]),K=(0,S.useCallback)(async t=>{if((await u(t)).isLeft()){O({title:"Erro ao editar campanha",status:"error"});return}U(!F),O({title:"Campanha editada com sucesso!",status:"success"})},[]),H=(0,S.useCallback)(async t=>{if((await c(t)).isLeft()){O({title:"Erro ao encerrar campanha",status:"error"});return}U(!F),O({title:"Campanha encerrada com sucesso!",status:"success"})},[]),J=(0,S.useCallback)(async t=>{let e=await w(t);return e.isRight()?n(e.value.categories):n([])},[]),Y=(0,S.useCallback)(async t=>{let e=await (0,l.XR)(t);return e.isRight()?i(e.value.campaigns):i([])},[]),X=(0,S.useCallback)(async t=>{let e=await d(t);return e.isRight()?y(e.value.campaigns):y([])},[]),[q,z]=(0,S.useState)([]),Q=(0,S.useCallback)(async()=>{let t=await $();return t.isRight()?z(t.value.recipients):z([])},[]),Z=(0,S.useCallback)(async t=>{let e=await v(t);return e.isRight()?g(e.value.campaign):g(null)},[]),tt=(0,S.useCallback)(async t=>{let e=await I(t);return e.isRight()?g(e.value.campaign):g(null)},[]),[te,ta]=(0,S.useState)([]),tr=(0,S.useCallback)(async()=>{let t=await E();if(t.isRight()){ta(t.value.ufs);return}},[]),tn=(0,S.useCallback)(async t=>{let{campaignId:e}=t;if((await D({campaignId:e})).isRight()){O({title:"Campanha publicada com sucesso!",status:"success"});return}},[]),[ts,ti]=(0,S.useState)([]),tc=ts.length>0?ts[0].amountCollected:0,to=(0,S.useCallback)(async t=>{let e=await R(t);e.isRight()&&ti(e.value.campaigns)},[]),[tu,tl]=(0,S.useState)(null),tp=(0,S.useCallback)(async()=>{let t=await b();if(t.isRight())return tl(t.value.author)},[]),td=(0,S.useCallback)(async t=>(await k(t)).isRight()?{success:!0}:{success:!1},[]),tg=(0,S.useCallback)(async t=>{let e=await _(t);if(e.isRight()){L(e.value.countCampaigns);return}return null},[]),th=(0,S.useCallback)(async t=>{let e=await B(t);if(e.isRight()){P(e.value.feesReport);return}return null},[]),tm=(0,S.useCallback)(async t=>(await G(t)).isRight()?(O({title:"Notvidade criada com sucesso!",status:"success"}),{isSuccess:!0}):(O({title:"Erro ao criar novidade",status:"error"}),{isSuccess:!1}),[]),[tA,tw]=(0,S.useState)([]),ty=(0,S.useCallback)(async t=>{let e=await M({campaignId:t});return e.isRight()?(tw(e.value.news),e.value.news):[]},[]),tf=(0,S.useCallback)(async t=>(await j({newsId:t})).isRight()?(O({title:"Notivade deletada com sucesso!",status:"success"}),tw(e=>e.filter(e=>e.id.toString()!==t)),{isSuccess:!0}):(O({title:"Erro ao deletar novidade",status:"error"}),{isSuccess:!1}),[]);return(0,S.useEffect)(()=>{J({page:1})},[J]),(0,r.jsx)(W.Provider,{value:{fetchAmountRaised:to,createCampaign:N,createdCampaignSlug:h,setCreatedCampaignSlug:m,fetchCategories:J,fetchCampaigns:Y,fetchCountCampaigns:tg,fetchFeesReport:th,closeCampaign:H,getCampaignDetailsBySlug:Z,getCampaignDetailsById:tt,fetchMyCampaigns:X,editCampaign:K,publishCampaign:tn,fetchUfs:tr,getAuthor:tp,saveAuthorDocument:td,fetchRecipient:Q,createRecipient:x,createNews:tm,fetchNewsByCampaignId:ty,deleteNews:tf,news:tA,feesReport:T,recipients:q,myCampaigns:A,categories:a,campaigns:s,campaignDetails:p,countCampaigns:f,ufs:te,amountRaised:ts,campaignAmountCollected:tc,author:tu},children:e})},q=()=>(0,S.useContext)(W)},61209:function(t,e,a){a.d(e,{D4:function(){return s},XR:function(){return p},c4:function(){return i}});var r,n,s,i,c=a(95724),o=a(11490),u=a(12925),l=a(21313);async function p(t){let{page:e=1,categoryId:a,itemsPerPage:r,search:n,state:s,status:i="PUBLISHED",isVerified:p,timeRange:d}=t;try{let{data:t}=await o.h.get("/campaigns?page=".concat(e).concat(r?"&itemsPerPage=".concat(r):"").concat(a?"&categoryId=".concat(a):"").concat(n?"&search=".concat(n):"").concat(s?"&state=".concat(s):"").concat(i?"&status=".concat(i):"").concat(p?"&isVerified=".concat(p):"").concat(d?"&timeRange=".concat(d):"")),u=t.campaigns.map(l.O.toDomain);return(0,c.F2)({campaigns:u})}catch(t){return(0,c.t$)(new u.g(t))}}(r=s||(s={})).ALL="ALL",r.TODAY="TODAY",r.LAST_WEEK="LAST_WEEK",r.LAST_MONTH="LAST_MONTH",r.LAST_YEAR="LAST_YEAR",(n=i||(i={})).ALL="ALL",n.PUBLISHED="PUBLISHED",n.DRAFT="DRAFT",n.CLOSED="CLOSED",n.DELETED="DELETED"},21313:function(t,e,a){a.d(e,{O:function(){return i}});var r=a(38152),n=a(16305);class s extends n.K{get id(){return this.props.id}get coverImageId(){return this.props.coverImageId}get title(){return this.props.title}get slug(){return this.props.slug}get status(){return this.props.status}get goalAmount(){return this.props.goalAmount}get amountCollected(){return this.props.amountCollected}get isVerified(){return this.props.isVerified}get percentage(){return Math.round(this.props.amountCollected/this.props.goalAmount*100)}get categoryId(){return this.props.categoryId}get authorId(){return this.props.authorId}get description(){return this.props.description}get closureAt(){return this.props.closureAt}get createdAt(){return this.props.createdAt}get updatedAt(){return this.props.updatedAt}toJSON(){var t,e;return{id:this.id.toString(),coverImageId:(null===(t=this.coverImageId)||void 0===t?void 0:t.toString())||null,title:this.title,slug:this.slug,status:this.status,goalAmount:this.goalAmount,amountCollected:this.amountCollected,isVerified:this.isVerified,percentage:this.percentage,categoryId:this.categoryId.toString(),authorId:this.authorId.toString(),description:this.description,closureAt:this.closureAt.toISOString(),createdAt:this.createdAt.toISOString(),updatedAt:(null===(e=this.updatedAt)||void 0===e?void 0:e.toISOString())||null}}static create(t){return new s(t)}}class i{static toDomain(t){return s.create({id:new r.E(t.id),coverImageId:t.coverImageId?new r.E(t.coverImageId):null,categoryId:new r.E(t.categoryId),authorId:new r.E(t.authorId),title:t.title,description:t.description,isVerified:t.isVerified,slug:t.slug,status:t.status,goalAmount:t.goalAmount,amountCollected:t.amountCollected,closureAt:t.closureAt,createdAt:t.createdAt,updatedAt:t.updatedAt?t.updatedAt:null})}}},58844:function(t,e,a){a.d(e,{c:function(){return n},g:function(){return i}});var r,n,s=a(16305);(r=n||(n={})).ALL="ALL",r.PUBLISHED="PUBLISHED",r.DRAFT="DRAFT",r.CLOSED="CLOSED",r.DELETED="DELETED";class i extends s.K{get campaignId(){return this.props.campaignId}get coverImageId(){return this.props.coverImageId}get title(){return this.props.title}get description(){return this.props.description}get resume(){return this.props.resume}get slug(){return this.props.slug}get status(){return this.props.status}get isVerified(){return this.props.isVerified}get author(){return this.props.author}get authorCampaignsCount(){return this.props.authorCampaignsCount}get category(){return this.props.category}get goalAmount(){return this.props.goalAmount}get ratePlatform(){return this.props.ratePlatform}get amountCollected(){return this.props.amountCollected}get videoUrl(){return this.props.videoUrl}get state(){return this.props.state}get city(){return this.props.city}get goalReachedAt(){return this.props.goalReachedAt}get closureAt(){return this.props.closureAt}get createdAt(){return this.props.createdAt}get updatedAt(){return this.props.updatedAt}get publishedAt(){return this.props.publishedAt}get finishedAt(){return this.props.finishedAt}get deletedAt(){return this.props.deletedAt}toJSON(){var t;return{campaignId:this.campaignId.toString(),coverImageId:(null===(t=this.coverImageId)||void 0===t?void 0:t.toString())||null,title:this.title,description:this.description,slug:this.slug,status:this.status,goalAmount:this.goalAmount,amountCollected:this.amountCollected,isVerified:this.isVerified,ratePlatform:this.ratePlatform,resume:this.resume,author:{id:this.author.id.toString(),name:this.author.name,email:this.author.email,phone:this.author.phone,avatarUrl:this.author.avatarUrl,createdAt:this.author.createdAt},authorCampaignsCount:this.authorCampaignsCount,category:{id:this.category.id.toString(),name:this.category.name},state:this.state,city:this.city,videoUrl:this.videoUrl,closureAt:this.closureAt,createdAt:this.createdAt,updatedAt:this.updatedAt}}static create(t){return new i(t)}}}}]);